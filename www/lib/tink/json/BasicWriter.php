<?php
/**
 * Generated by Haxe 4.0.0-rc.2+77068e1
 * Haxe source file: /Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx
 */

namespace tink\json;

use \php\Boot;
use \tink\core\Annex;
use \haxe\format\JsonPrinter;

class BasicWriter {
	/**
	 * @var \StringBuf
	 */
	public $buf;
	/**
	 * @var Annex
	 */
	public $plugins;

	/**
	 * @return void
	 */
	public function __construct () {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:17: characters 5-35
		$this->plugins = new Annex($this);
	}

	/**
	 * @param int $c
	 * 
	 * @return void
	 */
	public function char ($c) {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:27: characters 5-19
		$_this = $this->buf;
		$_this->b = ($_this->b??'null') . (mb_chr($c)??'null');
	}

	/**
	 * @return void
	 */
	public function init () {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:20: characters 5-26
		$this->buf = new \StringBuf();
	}

	/**
	 * @param string $s
	 * 
	 * @return void
	 */
	public function output ($s) {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:24: characters 5-15
		$this->buf->add($s);
	}

	/**
	 * @param bool $b
	 * 
	 * @return void
	 */
	public function writeBool ($b) {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:36: characters 5-39
		$this->buf->add(($b ? "true" : "false"));
	}

	/**
	 * @param mixed $value
	 * 
	 * @return void
	 */
	public function writeDynamic ($value) {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:42: characters 5-39
		$s = JsonPrinter::print($value);
		$this->buf->add($s);
	}

	/**
	 * @param float $v
	 * 
	 * @return void
	 */
	public function writeFloat ($v) {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:33: characters 5-26
		$s = \Std::string($v);
		$this->buf->add($s);
	}

	/**
	 * @param int $v
	 * 
	 * @return void
	 */
	public function writeInt ($v) {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:30: characters 5-26
		$s = \Std::string($v);
		$this->buf->add($s);
	}

	/**
	 * @param string $s
	 * 
	 * @return void
	 */
	public function writeString ($s) {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:39: characters 5-35
		$s1 = JsonPrinter::print($s);
		$this->buf->add($s1);
	}

	/**
	 * @param Value $value
	 * 
	 * @return void
	 */
	public function writeValue ($value) {
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:44: lines 44-80
		$_gthis = $this;
		#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:45: lines 45-80
		$__hx__switch = ($value->index);
		if ($__hx__switch === 0) {
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:46: characters 20-21
			$f = $value->params[0];
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:46: characters 24-37
			$s = \Std::string($f);
			$this->buf->add($s);

		} else if ($__hx__switch === 1) {
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:47: characters 20-21
			$s1 = $value->params[0];
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:47: characters 24-38
			$s2 = JsonPrinter::print($s1);
			$this->buf->add($s2);

		} else if ($__hx__switch === 2) {
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:48: characters 19-33
			$this->buf->add("null");
		} else if ($__hx__switch === 3) {
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:49: characters 18-19
			$b = $value->params[0];
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:49: characters 22-56
			$this->buf->add(($b ? "true" : "false"));
		} else if ($__hx__switch === 4) {
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:45: characters 12-17
			if ($value->params[0]->length === 0) {
				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:50: characters 24-36
				$this->buf->add("[]");
			} else {
				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:51: characters 19-20
				$a = $value->params[0];
				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:53: characters 9-23
				$_this = $this->buf;
				$_this->b = ($_this->b??'null') . (mb_chr(91)??'null');

				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:54: characters 9-25
				$this->writeValue(($a->arr[0] ?? null));
				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:56: lines 56-59
				$_g = 1;
				$_g1 = $a->length;
				while ($_g < $_g1) {
					$i = $_g++;
					#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:57: characters 11-25
					$_this1 = $this->buf;
					$_this1->b = ($_this1->b??'null') . (mb_chr(44)??'null');

					#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:58: characters 11-27
					$this->writeValue(($a->arr[$i] ?? null));
				}

				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:60: characters 9-23
				$_this2 = $this->buf;
				$_this2->b = ($_this2->b??'null') . (mb_chr(93)??'null');


			}
		} else if ($__hx__switch === 5) {
			#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:45: characters 12-17
			if ($value->params[0]->length === 0) {
				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:62: characters 25-37
				$this->buf->add("{}");
			} else {
				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:63: characters 20-21
				$a1 = $value->params[0];
				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:65: characters 9-23
				$_this3 = $this->buf;
				$_this3->b = ($_this3->b??'null') . (mb_chr(123)??'null');

				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:72: characters 9-20
				$p = ($a1->arr[0] ?? null);
				$s3 = JsonPrinter::print($p->name);
				$_gthis->buf->add($s3);

				$_this4 = $_gthis->buf;
				$_this4->b = ($_this4->b??'null') . (mb_chr(58)??'null');

				$_gthis->writeValue($p->value);

				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:73: lines 73-76
				$_g2 = 1;
				$_g11 = $a1->length;
				while ($_g2 < $_g11) {
					$i1 = $_g2++;
					#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:74: characters 11-25
					$_this5 = $this->buf;
					$_this5->b = ($_this5->b??'null') . (mb_chr(44)??'null');

					#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:75: characters 11-22
					$p1 = ($a1->arr[$i1] ?? null);
					$s4 = JsonPrinter::print($p1->name);
					$_gthis->buf->add($s4);

					$_this6 = $_gthis->buf;
					$_this6->b = ($_this6->b??'null') . (mb_chr(58)??'null');

					$_gthis->writeValue($p1->value);

				}

				#/Users/ut/haxe/haxe_libraries/tink_json/0.9.0/haxelib/src/tink/json/Writer.hx:78: characters 9-23
				$_this7 = $this->buf;
				$_this7->b = ($_this7->b??'null') . (mb_chr(125)??'null');


			}
		}
	}
}

Boot::registerClass(BasicWriter::class, 'tink.json.BasicWriter');
